(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{53:function(e,t,a){e.exports=a(84)},58:function(e,t,a){},59:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(18),r=a.n(s),o=(a(58),a(51)),i=a(5),c=a(23),d=a(32),h=a(8),m=a(27),u=a(28),p=(a(59),a(49)),E=a(25),g=a.n(E);class b extends l.a.Component{readData(){const e=this;g.a.get(window.global.api_location+"/products").then((function(t){console.log(t.data),e.setState({products:t.data})})).catch((function(e){console.log(e)}))}getProducts(){let e=[];for(let t=0;t<this.state.products.length;t++)e.push(l.a.createElement("tr",{key:t},l.a.createElement("td",null,this.state.products[t].name),l.a.createElement("td",null,this.state.products[t].price),l.a.createElement("td",null,this.state.products[t].sku)));return e}constructor(e){super(e),this.readData(),this.state={products:[]},this.readData=this.readData.bind(this)}render(){return l.a.createElement("div",null,l.a.createElement("h1",{style:{marginBottom:"40px"}},"Menu"),l.a.createElement(p.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Price"),l.a.createElement("th",null,"SKU"))),l.a.createElement("tbody",null,this.getProducts())))}}var v=b,f=a(22),w=a(36),S=a(50),x=a(33);class y extends l.a.Component{constructor(e){super(e),this.state={show:!1},this.hide=this.hide.bind(this)}hide(){this.setState({show:!1})}componentDidUpdate(e){this.props!==e&&this.setState({show:this.props.show})}render(){return l.a.createElement(x.a,{onClose:this.hide,show:this.state.show,delay:3e3,autohide:!0},l.a.createElement(x.a.Header,null,l.a.createElement("strong",{className:"mr-auto"},"File Upload")),l.a.createElement(x.a.Body,null,this.props.message))}}var D=y;class C extends l.a.Component{constructor(e){super(e),this.state={validated:!1,id:"",buttonDisabled:!1,toastShow:!1,toastText:"asd"},this.validated=this.validated.bind(this),this.changeHandler=this.changeHandler.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}validated(){return console.log("validated",this.state.validated),this.state.validated}handleSubmit(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return void e.stopPropagation();this.setState({buttonDisabled:!0,toastShow:!1});const t=new FormData;t.append("file",this.state.file),t.append("id",this.state.id),g.a.post(window.global.files_location,t,{"content-type":"multipart/form-data; boundary="+t._boundary}).then(e=>{console.log(e);var t="";t=200===e.status?"Uploaded file":"Unable to upload file. Error:"+e.statusText,this.setState({buttonDisabled:!1,toastShow:!0,toastText:t})}).catch(e=>{console.log("Err"+e),this.setState({buttonDisabled:!1,toastShow:!0,toastText:"Unable to upload file. "+e})})}changeHandler(e){"file"!==e.target.name?this.setState({[e.target.name]:e.target.value,toastShow:!1}):this.setState({[e.target.name]:e.target.files[0],toastShow:!1})}render(){return l.a.createElement("div",null,l.a.createElement("h1",{style:{marginBottom:"40px"}},"Admin"),l.a.createElement(S.a,{className:"text-left"},l.a.createElement(h.a,{noValidate:!0,validated:this.validated,onSubmit:this.handleSubmit},l.a.createElement(h.a.Group,{as:w.a,controlId:"productID"},l.a.createElement(h.a.Label,{column:!0,sm:"2"},"Product ID:"),l.a.createElement(f.a,{sm:"6"},l.a.createElement(h.a.Control,{type:"text",name:"id",placeholder:"",required:!0,style:{width:"80px"},value:this.state.id,onChange:this.changeHandler}),l.a.createElement(h.a.Text,{className:"text-muted"},"Enter the product id to upload an image for"),l.a.createElement(h.a.Control.Feedback,{type:"invalid"},"Please provide a product ID.")),l.a.createElement(f.a,{sm:"4"},l.a.createElement(D,{show:this.state.toastShow,message:this.state.toastText}))),l.a.createElement(h.a.Group,{as:w.a},l.a.createElement(h.a.Label,{column:!0,sm:"2"},"File:"),l.a.createElement(f.a,{sm:"10"},l.a.createElement(h.a.Control,{type:"file",name:"file",placeholder:"",required:!0,onChange:this.changeHandler}),l.a.createElement(h.a.Text,{className:"text-muted"},"Image to associate with the product"),l.a.createElement(h.a.Control.Feedback,{type:"invalid"},"Please select a file to upload."))),l.a.createElement(u.a,{type:"submit",disabled:this.state.buttonDisabled},"Submit form"))))}}var k=C;a(80);var T=function(){return l.a.createElement(o.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(c.a,{bg:"light",expand:"lg"},l.a.createElement(c.a.Brand,{href:"#home"},"Coffee Shop"),l.a.createElement(c.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(c.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(d.a,{className:"mr-auto"},l.a.createElement(d.a.Link,{href:"/"},"Home"),l.a.createElement(d.a.Link,{href:"/admin"},"Admin")),l.a.createElement(h.a,{inline:!0},l.a.createElement(m.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),l.a.createElement(u.a,{variant:"outline-success"},"Search")))),l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/admin"},l.a.createElement(k,null)),l.a.createElement(i.a,{path:"/"},l.a.createElement(v,null)),l.a.createElement(i.a,null,l.a.createElement(v,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}},[[53,1,2]]]);
//# sourceMappingURL=main.6b7281cb.chunk.js.map